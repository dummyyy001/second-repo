jQuery((function($){var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},i=function(i){function a(){$("#pg-main-"+h).css("height","auto"),setTimeout((function(){var t=$("#pg-main-"+h+" .splide__track").height();$("#pg-thumbnails-"+h).css("height",t),$("#pg-main-"+h).css("height",t)}),30)}function e(t,i,e,o){"left"===t?($("#pg-main-"+h).css("margin-left",i+"%"),$("#pg-main-"+h).css("margin-right",""),setTimeout((function(){$("#pg-thumbnails-"+h).css("width",i+"%"),$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","")}),30),a()):"right"===t?($("#pg-main-"+h).css("margin-right",i+"%"),$("#pg-main-"+h).css("margin-left",""),setTimeout((function(){$("#pg-thumbnails-"+h).css("width",i+"%"),$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","")}),30),a()):($("#pg-main-"+h).css("margin-left",""),$("#pg-main-"+h).css("margin-right",""),$("#pg-main-"+h).css("height",""),$("#pg-thumbnails-"+h).css("height",""),$("#pg-thumbnails-"+h).css("width",""),o<e?$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth",Math.floor(100/e*o)+"%"):$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","none"))}function o(){$(window).width()<769?e(b,P,x,k):$(window).width()<1024?e(w,T,z,k):e(v,C,y,k)}function n(){var t;$("#pg-thumbnails-"+h).find(".splide__slide").hover((function(){$thumb=$(this),clearTimeout(t),t=setTimeout((function(){$thumb.trigger("click")}),100)}))}function r(){if(kadence_pg.lightbox)return GLightbox({selector:"#pg-main-"+h+' .splide__slide a[data-rel^="lightbox"]:not([target="_blank"])',touchNavigation:!0,skin:kadence_pg.lightbox_style,loop:!0,openEffect:"fade",closeEffect:"fade",autoplayVideos:!0,plyr:{css:kadence_pg.plyr_css,js:kadence_pg.plyr_js,config:{hideControls:!0}}})}function s(){kadence_pg.lightbox&&it&&it.reload()}function m(){H&&(q.remove(".splide__slide:not(.woo-main-slide)"),q.add(L.original.images),k=G,X&&(X.remove(".splide__slide:not(.woocommerce-main-image-thumb)"),$("#pg-thumbnails-"+h).css("height","auto"),k<V&&"left"!==J&&"right"!==J?X.options.perPage=k:X.options.perPage<V?(X.options.perPage=V,A&&(X.options.focus="left"!==J&&"right"!==J||k>V&&("left"===J||"right"===J)?"center":void 0)):X.options.perPage>=V&&A&&(X.options.focus="left"!==J&&"right"!==J||k>V&&("left"===J||"right"===J)?"center":void 0),X.add(L.original.thumbnails),B&&n()),e(J,Q,V,G),s(),H=!1)}function g(t){!1===L[t]?m():d(L[t])}function d(t){H=!0,q.remove(".splide__slide:not(.woo-main-slide)"),q.add(t.images),k=t.thumbnails.length+1,X&&(X.remove(".splide__slide:not(.woocommerce-main-image-thumb)"),$("#pg-thumbnails-"+h).css("height","auto"),k<V&&"left"!==J&&"right"!==J?X.options.perPage=k:X.options.perPage<V?(X.options.perPage=V,A&&(X.options.focus="left"!==J&&"right"!==J||k>V&&("left"===J||"right"===J)?"center":void 0)):X.options.perPage>=V&&A&&(X.options.focus="left"!==J&&"right"!==J||k>V&&("left"===J||"right"===J)?"center":void 0),X.add(t.thumbnails),B&&n()),e(J,Q,V,k),s()}function l(t){var i={action:"kadence_variation_images_load_frontend_ajax",ajaxkwsvNonce:kadence_pg.ajax_nonce,variation_id:t,post_id:h};$.post(kadence_pg.ajax_url,i,(function(t){t.length?d(t=JSON.parse(t)):m()}))}function c(){var i=$("#pg-main-"+h).find(".woocommerce-main-image"),a=kadence_pg.lightbox?i.find("img"):$("#pg-main-"+h).find(".woo-main-slide img"),e=$("#pg-thumbnails-"+h).find(".woocommerce-main-image-thumb"),o=e.find("img"),n;(a.kt_wc_reset_variation_attr("src"),a.kt_wc_reset_variation_attr("srcset"),a.kt_wc_reset_variation_attr("data-caption"),a.kt_wc_reset_variation_attr("alt"),!0===D&&(void 0!==a.attr("data-o_data-caption")?(i.find(".sp-gal-image-caption").html(a.attr("data-o_data-caption")),i.find(".sp-gal-image-caption").fadeIn()):i.find(".sp-gal-image-caption").fadeOut()),i.hasClass("kt-woo-orig-video-link")&&(i.addClass("kt-woo-video-link"),i.find(".kt-woo-play-btn").show(),e.find(".kt-woo-play-btn").show(),i.removeClass("kt-woo-orig-video-link")),a.kt_wc_reset_variation_attr("title"),a.kt_wc_reset_variation_attr("data-zoom-image"),o.kt_wc_reset_variation_attr("src"),o.kt_wc_reset_variation_attr("srcset"),o.kt_wc_reset_variation_attr("alt"),i.kt_wc_reset_variation_attr("href"),m(),$("#pg-main-"+h).data("zoom-active")&&!t.any())&&(1<q.length&&q.go(0),$(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300}));q.refresh(),s()}this.$gallery=i;var _=i.data("speed"),h=i.data("product-id"),p=i.data("animation"),u=i.data("animation-speed"),f=i.data("arrows"),v=i.data("layout"),w=i.data("md-layout"),b=i.data("sm-layout"),k=i.data("gallery-items"),y=i.data("thumb-show"),z=i.data("md-thumb-show"),x=i.data("sm-thumb-show"),C=i.data("thumb-width"),T=i.data("md-thumb-width"),P=i.data("sm-thumb-width"),W=i.data("thumb-gap"),I=i.data("md-thumb-gap"),O=i.data("sm-thumb-gap"),A=i.data("thumb-center"),j=i.data("auto"),S=i.data("auto-height"),D=i.data("visible-captions"),F=i.data("zoom-active"),Z=i.data("zoom-type"),B=i.data("thumb-hover"),E=i.find(".splide__track").height(),M=!1,H=!1,N="ltr",L=!1,G=k;$("#pg-extra-"+h).length&&!1===(L=$("#pg-extra-"+h).data("product_variation_images")).is_ajax&&!1===L.has_variation_images&&(L=!1),$('html[dir="rtl"]').length&&(N="rtl"),F&&!t.any()&&$(window).width()>790&&(M=!0),i.addClass("splide-initial");var J=v,Q=C,V=y;$(window).width()<769?(J=b,Q=P,V=x):$(window).width()<1024&&(J=w,Q=T,V=z),"tiles"!==J&&"grid"!==J&&"list"!==J||(j=!1);var q=new Splide("#pg-main-"+h,{type:p?"fade":"slide",autoplay:!0===j,lazyLoad:"nearby",rewind:!0,pagination:!0,arrows:!!f,perPage:1,pauseOnHover:!1!==M,direction:N,interval:void 0!==_?_:7e3,speed:void 0!==u?u:400,easing:void 0!==u&&u>1e3?"linear":"cubic-bezier(0.25, 1, 0.5, 1)"}),K;if(q.on("mounted",(function(){i.addClass("kt-product-gal-loaded")})),!0===S&&("above"===J||"slider"===J)){var R=t=>{var i=q.Components.Slides.getAt("number"==typeof t?t:q.index).slide;i.parentElement.style.height=i.firstChild.offsetHeight+"px"};q.on("mounted move resize",R);var U=t=>{var i=q.Components.Slides.getAt("number"==typeof t?t:q.index).slide;console.log(i.parentElement),console.log(i.firstChild),console.log(i.firstChild.offsetHeight+"px"),setTimeout((()=>{i.parentElement.style.height=i.firstChild.offsetHeight+"px"}),100)};q.on("refresh",U)}if("left"!==J&&"right"!==J||(a(),q.on("mounted",(function(){setTimeout((function(){a()}),100)}))),e(J,Q,V,k),$("#pg-thumbnails-"+h).length){var X=new Splide("#pg-thumbnails-"+h,{direction:"left"===v||"right"===v?"ttb":N,focus:A&&("left"!==J&&"right"!==J||k>y&&("left"===J||"right"===J))?"center":void 0,height:"100%",perPage:k<y&&"left"!==v&&"right"!==v?k:y,gap:W,rewind:!0,pagination:!1,isNavigation:!0,drag:!1,arrows:!0,breakpoints:{767:{direction:"left"===b||"right"===b?"ttb":N,perPage:k<x&&"left"!==b&&"right"!==b?k:x,gap:O},1024:{direction:"left"===w||"right"===w?"ttb":N,perPage:k<z&&"left"!==w&&"right"!==w?k:z,gap:I}}});q.sync(X),q.mount(),X.mount()}else q.mount();if($(window).on("resize",(function(){clearTimeout(K),K=setTimeout(o(),100)})),B&&X&&n(),F&&!t.any()&&$(window).width()>790){function Y(){$(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})}var tt;q.on("move",(function(){$(".zoomContainer").remove()})),q.on("moved",(function(){setTimeout((function(){Y()}),100)})),$(window).on("resize",(function(){clearTimeout(tt),tt=setTimeout(Y,200)})),Y()}var it=r();$(".variations_form").find(".single_variation").on("show_variation",(function(i,a,e){var o=$("#pg-main-"+h).find(".woocommerce-main-image"),n=kadence_pg.lightbox?o.find("img"):$("#pg-main-"+h).find(".woo-main-slide img"),r=$("#pg-thumbnails-"+h).find(".woocommerce-main-image-thumb"),m=r.find("img");if(a&&a.image.src&&a.image.src.length>1){var d;$("#pg-main-"+h).find('.splide__slide img[data-o_src="'+a.image.src+'"]').length>0&&c();var _=a.image.gallery_thumbnail_src.replace(a.image.gallery_thumbnail_src_w+"x"+a.image.gallery_thumbnail_src_h,Math.floor(a.image.gallery_thumbnail_src_w/2)+"x"+Math.floor(a.image.gallery_thumbnail_src_h/2)),p=$("#pg-thumbnails-"+h).find('.splide__slide img[src="'+_+'"]'),u;if(0==p.length&&(p=$("#pg-thumbnails-"+h).find('.splide__slide img[src="'+a.image.gallery_thumbnail_src+'"]')),p.length>0&&!L)return p.parent().trigger("click"),void($("#pg-main-"+h).data("zoom-active")&&!t.any()&&($(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})));1<q.length&&q.go(0),n.kt_wc_set_variation_attr("data-zoom-image",a.image.full_src),n.kt_wc_set_variation_attr("src",a.image.src),a.image.srcset?n.kt_wc_set_variation_attr("srcset",a.image.srcset):n.kt_wc_set_variation_attr("srcset",""),a.image.title?n.kt_wc_set_variation_attr("title",a.image.title):n.kt_wc_set_variation_attr("title",""),a.image.caption?n.kt_wc_set_variation_attr("data-caption",a.image.caption):n.kt_wc_set_variation_attr("data-caption",""),!0===D&&(a.image.caption?(o.find(".sp-gal-image-caption").html(a.image.caption),o.find(".sp-gal-image-caption").fadeIn()):o.find(".sp-gal-image-caption").fadeOut()),o.hasClass("kt-woo-video-link")&&(o.find(".kt-woo-play-btn").hide(),r.find(".kt-woo-play-btn").hide(),o.removeClass("kt-woo-video-link"),o.addClass("kt-woo-orig-video-link")),n.kt_wc_set_variation_attr("alt",a.image.alt),o.kt_wc_set_variation_attr("href",a.image.full_src),m.kt_wc_set_variation_attr("src",a.image.gallery_thumbnail_src),a.image.gallery_thumbnail_srcset?m.kt_wc_set_variation_attr("srcset",a.image.gallery_thumbnail_srcset):m.kt_wc_set_variation_attr("srcset",""),m.kt_wc_set_variation_attr("alt",a.image.alt),L&&(L.is_ajax?l(a.variation_id):g(a.variation_id)),q.refresh(),$("#pg-main-"+h).data("zoom-active")&&!t.any()&&($(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})),s()}else c()})),$.fn.kt_wc_set_variation_attr=function(t,i){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),this.attr(t,i)},$.fn.kt_wc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},$(".variations_form").on("click",".reset_variations",(function(){c()}))};$.fn.kt_wc_product_gallery=function(){var t=this;if("function"==typeof Splide)new i(t);else var a=setInterval((function(){"function"==typeof Splide&&(new i(t),clearInterval(a))}),200);return this},$(".kadence-ga-splide-init").each((function(){$(this).kt_wc_product_gallery()}))}));