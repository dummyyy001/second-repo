!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e="waitForImages";t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(a,i,n){var s,l,r,o=0,d=0,c=t.Deferred();if(t.isPlainObject(a)?(r=a.waitForAll,l=a.each,s=a.finished):1===arguments.length&&"boolean"===t.type(a)?r=a:(s=a,l=i,r=n),s=s||t.noop,l=l||t.noop,r=!!r,!t.isFunction(s)||!t.isFunction(l))throw new TypeError("An invalid callback was supplied.");return this.each((function(){var a=t(this),i=[],n=t.waitForImages.hasImageProperties||[],p=t.waitForImages.hasImageAttributes||[],u=/url\(\s*(['"]?)(.*?)\1\s*\)/g;r?a.find("*").addBack().each((function(){var e=t(this);e.is("img:has-src")&&!e.is("[srcset]")&&i.push({src:e.attr("src"),element:e[0]}),t.each(n,(function(t,a){var n,s=e.css(a);if(!s)return!0;for(;n=u.exec(s);)i.push({src:n[2],element:e[0]})})),t.each(p,(function(t,a){var n;return!e.attr(a)||void i.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})}))})):a.find("img:has-src").each((function(){i.push({src:this.src,element:this})})),o=i.length,d=0,0===o&&(s.call(a[0]),c.resolveWith(a[0])),t.each(i,(function(i,n){var r=new Image,p="load."+e+" error."+e;t(r).one(p,(function e(i){var r=[d,o,"load"==i.type];if(d++,l.apply(n.element,r),c.notifyWith(n.element,r),t(this).off(p,e),d==o)return s.call(a[0]),c.resolveWith(a[0]),!1})),n.srcset&&(r.srcset=n.srcset),r.src=n.src}))})),c.promise()}})),jQuery(document).ready((function($){var t=function(t,e){var a=t.data("gallery-filter"),n=t.data("gallery-lightbox");t.waitForImages((function(){var s;if(t.removeClass("kt-loadeding"),t.addClass("kt-loaded"),t.siblings(".kt-galleries-loading").removeClass("kt-loadeding"),t.siblings(".kt-galleries-loading").addClass("kt-loaded"),t.isotopeb({masonry:{columnWidth:e},layoutMode:"masonry",itemSelector:e,transitionDuration:"0.4s"}),t.find(".kt-gal-fade-in").each((function(t){jQuery(this).delay(50*t).animate({opacity:1},150)})),1==a){var l,o=t.parents(".kt-gal-outer").find(".kt-filters"),d,c;if(o.length)o.find("a").on("click",(function(e){e.preventDefault();var a=jQuery(this).attr("data-filter");t.isotopeb({filter:a});var s=t.isotopeb("getFilteredItemElements"),l=t.isotopeb("getItemElements");$(l).addClass("kt-filtered-out"),$(s).removeClass("kt-filtered-out"),"magnific"==n?i(t):r(".kt-galleries-container")})),jQuery(".kt-filters .kt-option-set").find("a").click((function(){var t=jQuery(this),e;if(t.hasClass("selected"))return!1;t.parents(".kt-option-set").find(".selected").removeClass("selected"),t.addClass("selected")}))}}))},e=function(t,e){var a=t.data("gallery-filter"),n=t.data("gallery-lightbox");if($("body.rtl").length)var s=!1;else var s=!0;t.waitForImages((function(){var l;if(t.removeClass("kt-loadeding"),t.addClass("kt-loaded"),t.siblings(".kt-galleries-loading").removeClass("kt-loadeding"),t.siblings(".kt-galleries-loading").addClass("kt-loaded"),t.isotopeb({layoutMode:"packery",percentPosition:!0,itemSelector:e,transitionDuration:".8s",packery:{horizontal:!0,columnWidth:".mosaic-grid-size"},isOriginLeft:s}),t.find(".kt-gal-fade-in").each((function(t){jQuery(this).delay(50*t).animate({opacity:1},150)})),1==a){var o,d=t.parents(".kt-gal-outer").find(".kt-filters"),c,p;if(d.length)d.find("a").on("click",(function(e){e.preventDefault();var a=jQuery(this).attr("data-filter");t.isotopeb({filter:a});var s=t.isotopeb("getFilteredItemElements"),l=t.isotopeb("getItemElements");$(l).addClass("kt-filtered-out"),$(s).removeClass("kt-filtered-out"),"magnific"==n?i(t):r(".kt-galleries-container")})),jQuery(".kt-filters .kt-option-set").find("a").click((function(){var t=jQuery(this),e;if(t.hasClass("selected"))return!1;t.parents(".kt-option-set").find(".selected").removeClass("selected"),t.addClass("selected")}))}}))},a=function(t,e){var a=t.data("gallery-height"),i=t.data("gallery-lastrow"),n=t.data("gallery-margins");t.waitForImages((function(){var e;t.removeClass("kt-loadeding"),t.addClass("kt-loaded"),t.siblings(".kt-galleries-loading").removeClass("kt-loadeding"),t.siblings(".kt-galleries-loading").addClass("kt-loaded"),t.justifiedGallery({rowHeight:a,lastRow:i,captions:!1,margins:n,waitThumbnailsLoad:!1}),t.find(".kt-gal-fade-in").each((function(t){jQuery(this).delay(50*t).animate({opacity:1},150)}))}))},i=function(t){t.each((function(){$(this).find(".kt-gallery-item:not(.kt-filtered-out):not(.kt-gal-external) a.kt-no-lightbox").magnificPopup({type:"image",gallery:{enabled:!0},image:{titleSrc:function(t){return t.el.find(".kt-gallery-caption-container").html()}},removalDelay:500,callbacks:{beforeOpen:function(){$("body").addClass("kt-galleries-mag-pop")}}})}))};$(".kt-local-gallery").on("destroy",(function(){setTimeout((function(){$(".pswp").removeClass().addClass("pswp")}),100)}));var n=function(){$(".pswp__caption").on("click",s)},s=function(){$(".pswp__caption:not(.pswp__caption--fake)").toggleClass("active"),$(".pswp__button--show--caption.kt-btn-hide").toggleClass("force-hide"),$(".pswp__button--show--caption.kt-btn-show").toggleClass("force-hide")},l=function(){$(".kadence-galleries-pswp").length||$(document.body).append('<div class="pswp kadence-galleries-pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="'+kadenceGallery.close+'"></button><button class="pswp__button pswp__button--share" title="'+kadenceGallery.share+'"></button><button class="pswp__button pswp__button--fs" title="'+kadenceGallery.togglefull+'"></button><button class="pswp__button pswp__button--zoom" title="'+kadenceGallery.zoom+'"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="'+kadenceGallery.prev+'"></button><button class="pswp__button pswp__button--arrow--right" title="'+kadenceGallery.next+'"></button><div class="pswp__caption"><div class="pswp__caption__center"></div><button class="pswp__button pswp__button--show--caption pswp__single-tap kt-btn-show">'+kadenceGallery.fullcaption+'</button><button class="pswp__button pswp__button--show--caption pswp__single-tap kt-btn-hide force-hide">'+kadenceGallery.mincaption+"</button></div></div></div></div>")},r=function(t){for(var e=function(t){for(var e=$(t).find(".kt-gallery-item:not(.kt-filtered-out):not(.kt-gal-external)"),a=e.length,i=[],n,s,l,r,o=0;o<a;o++)1===(n=e[o]).nodeType&&(l=(s=n.children[0]).getAttribute("data-size").split("x"),(r={src:s.getAttribute("href"),w:parseInt(l[0],10),h:parseInt(l[1],10)}).title=n.children[0].children[2].children[0].innerHTML,s.children.length>0&&(r.msrc=s.children[0].getAttribute("src")),r.el=n,i.push(r));return i},a=function t(e,a){return e&&(a(e)?e:t(e.parentNode,a))},i=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1;var e=t.target||t.srcElement,i=a(e,(function(t){return $(t).hasClass("kadence-galleries-pinterest-btn")?$(t).hasClass("kadence-galleries-pinterest-btn"):$(t).hasClass("kt-gallery-item")}));if(i)if($(i).hasClass("kadence-galleries-pinterest-btn")){var n=$(i).attr("target"),l=$(i).attr("href");window.open(l,n)}else{if(!$(i).hasClass("kt-gal-external")){for(var r=i.parentNode,o=$(r).find(".kt-gallery-item:not(.kt-filtered-out):not(.kt-gal-external)"),d=o.length,c=0,p,u=0;u<d;u++)if(1===o[u].nodeType){if(o[u]===i){p=c;break}c++}return p>=0&&s(p,r),!1}var n=$(i).children("a.kt-no-lightbox").attr("target"),l=$(i).children("a.kt-no-lightbox").attr("href");n&&""!=n&&"_self"!=n?window.open(l,n):window.location=l}},n=function(){var t=window.location.hash.substring(1),e={};if(t.length<5)return e;for(var a=t.split("&"),i=0;i<a.length;i++)if(a[i]){var n=a[i].split("=");n.length<2||(e[n[0]]=n[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e},s=function(t,a,i,n){var s=document.querySelectorAll(".pswp")[0],l,r,o;if(o=e(a),r={galleryUID:a.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(t){var e=o[t].el.getElementsByTagName("img")[0],a=window.pageYOffset||document.documentElement.scrollTop,i=e.getBoundingClientRect();return{x:i.left,y:i.top+a,w:i.width}},addCaptionHTMLFn:function(t,e,a){if(!t.title||"null"==t.title)return e.children[0].innerHTML="",a||($(e).find(".pswp__button--show--caption.kt-btn-show").hide(),$(e).find(".pswp__button--show--caption.kt-btn-hide").hide(),$(e).addClass("caption-empty")),!1;if(e.children[0].innerHTML=t.title,!a){var i=$(e);i.removeClass("caption-empty"),i.find(".pswp__caption__center").css("max-width","none");var n=i.find(".pswp__caption__center"),s=t.w,l=0;void 0!==t.initialPosition&&(l=2-t.initialPosition.y),void 0!==t.fitRatio&&t.fitRatio<1&&(s=parseInt(parseFloat(t.w)*parseFloat(t.fitRatio))),n.width()<s-20?(i.addClass("caption-shown-full"),i.removeClass("caption-trunk")):(i.addClass("caption-trunk"),i.removeClass("caption-shown-full")),i.find(".pswp__caption__center").css("max-width",s),i.css({"-webkit-transform":"translate3d(0,"+l+"px, 0)","-moz-transform":"translate3d(0,"+l+"px, 0)","-ms-transform":"translate3d(0,"+l+"px, 0)","-o-transform":"translate3d(0,"+l+"px, 0)",transform:"translate3d(0,"+l+"px, 0)"})}return!1},shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download Image",url:"{{raw_image_url}}",download:!0}]},n)if(r.galleryPIDs){for(var d=0;d<o.length;d++)if(o[d].pid==t){r.index=d;break}}else r.index=parseInt(t,10)-1;else r.index=parseInt(t,10);isNaN(r.index)||(i&&(r.showAnimationDuration=0),(l=new PhotoSwipe(s,PhotoSwipeUI_Default,o,r)).init())},l=document.querySelectorAll(t),r=0,o=l.length;r<o;r++)l[r].setAttribute("data-pswp-uid",r+1),l[r].onclick=i;var d=n();d.pid&&d.gid&&s(d.pid,l[d.gid-1],!0,!0)};$(".kt-local-gallery").each((function(){var s=$(this),o=$(this).data("gallery-type"),d=$(this).data("gallery-lightbox"),c=$(this).data("gallery-id"),p;(function(){"magnific"==d?i(s):"none"==d||(l(),r(".kt-gallery-"+c),n()),"tiles"==o?a(s,".kt-gallery-item"):"packery"==o?e(s,".kt-gallery-item"):t(s,".kt-gallery-item")})()})),$(".woocommerce-tabs .kt-local-gallery").length&&$(".woocommerce-tabs .kt-local-gallery").each((function(){function t(){e.isotopeb("layout")}var e=$(this),a=$(this).data("gallery-type");$(".woocommerce-tabs ul.tabs li a").on("click",(function(){"tiles"==a?e.justifiedGallery():setTimeout(t,50)}))})),$(".panel-body .kt-local-gallery").length&&$(".tab-pane .kt-local-gallery").each((function(){var t=$(this),e=$(this).data("gallery-type");$(".panel-group").on("shown.bs.collapse",(function(a){"tiles"==e?t.justifiedGallery():t.isotopeb("layout")}))})),$(".tab-pane .kt-local-gallery").length&&$(".tab-pane .kt-local-gallery").each((function(){var t=$(this),e=$(this).data("gallery-type");$(".sc_tabs").on("shown.bs.tab",(function(a){"tiles"==e?t.justifiedGallery():t.isotopeb("layout")}))}))}));