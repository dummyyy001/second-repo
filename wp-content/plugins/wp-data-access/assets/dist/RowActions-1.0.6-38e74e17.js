import{l as r,r as R,br as g,j as i,c4 as b,e as s,C as a}from"./main-1.0.6.js";import{u as A,B as P,T as l,a4 as f,H as V,ag as T,j as B,a2 as M}from"./main-1.0.6-7aa8b30c.js";import{C as O}from"./settings-1.0.6-c1644694.js";import{d as S}from"./ActionsDml-1.0.6-4c91d556.js";import{I as p}from"./iconBase-1.0.6-b8af29f5.js";import"./FormControlLabel-1.0.6-72a72881.js";import"./TextField-1.0.6-b41aa978.js";import"./Close-1.0.6-4b5eac8d.js";import"./DialogContent-1.0.6-e7b9fcb3.js";import"./AdminTheme-1.0.6-6896de59.js";import"./Tabs-1.0.6-e49ea330.js";const Q=({metaData:o,appId:n,rowId:e,rowData:u,storeTableSettings:c,showForm:d,refetch:y})=>{var j,h;r.debug(o,n,e,u);const C=A(),[k,m]=R.useState(!1),x=Object.keys(e).length>0,v=c.viewLink,w=!g(o)&&((j=o==null?void 0:o.privs)==null?void 0:j.update)&&c.transactions.update&&x,E=!g(o)&&((h=o==null?void 0:o.privs)==null?void 0:h.delete)&&c.transactions.delete&&x;return i.jsxs(P,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-around",alignItems:"center",gap:"5px"},children:[v&&i.jsx(l,{title:"View Row",children:i.jsx(p,{color:"primary",onClick:t=>{Object.keys(e).length===0&&C(b({appId:n,data:u,context:null})),d(e,f.VIEW),t.stopPropagation()},children:i.jsx(V,{})})}),w&&i.jsx(l,{title:"Edit Row",children:i.jsx(p,{color:"primary",onClick:t=>{d(e,f.UPDATE),t.stopPropagation()},children:i.jsx(T,{})})}),E&&i.jsxs(i.Fragment,{children:[i.jsx(l,{title:"Delete Row",children:i.jsx(p,{color:"error",onClick:t=>{m(!0),t.stopPropagation()},children:i.jsx(B,{})})}),i.jsx(O,{title:"Delete row?",message:"Are you sure you want to delete this row? This action cannot be undone!",open:k,setOpen:m,onConfirm:()=>{S(n,e,t=>{if(t!=null&&t.code&&(t!=null&&t.message))switch(t.code){case"ok":s(t.message,{variant:"success"}),y();break;default:r.error(t),s(t.message??a.contactSupport,{variant:"error"})}else r.error(t),s(a.contactSupport,{variant:"error"})},t=>{r.error("error",t),s(t??a.contactSupport,{variant:"error"})})},theme:M})]})]})};export{Q as default};
