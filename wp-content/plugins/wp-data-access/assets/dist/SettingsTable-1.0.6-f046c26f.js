import{j as e,bi as B,bF as b,bj as Z,l as m,cg as Q,bP as I,bN as O,bb as V,br as H,r as F,ch as y,ci as M,y as P}from"./main-1.0.6.js";import{u as J,M as v,B as R,a5 as D}from"./main-1.0.6-7aa8b30c.js";import{u as K}from"./useStoreTable-1.0.6-edd54d94.js";import{u as X}from"./useTableUpdater-1.0.6-7a34b388.js";import{c as $}from"./index-1.0.6-f35018af.js";import{A as k,a as A,b as T}from"./AccordionSummary-1.0.6-e78821a8.js";import{F as u,a as t,T as Y,S as q,M as S,A as ee}from"./TextField-1.0.6-b41aa978.js";import{R as U}from"./RadioGroup-1.0.6-adb96ecd.js";import{F as a}from"./FormControlLabel-1.0.6-72a72881.js";import{R as E}from"./Radio-1.0.6-2befae95.js";import{S as f}from"./settings-1.0.6-c1644694.js";import{D as re,T as se,a as N}from"./DefaultWhere-1.0.6-5077189f.js";import{f as oe,g as ne}from"./index.esm-1.0.6-d540f227.js";import{M as L}from"./MenuItem-1.0.6-b9a91535.js";import{I as le}from"./iconBase-1.0.6-b8af29f5.js";import{P as W}from"./PremiumFeature-1.0.6-12f86a87.js";import"./vi-1.0.6-f3183323.js";import{C as G}from"./CssUnitTextField-1.0.6-f103b81e.js";import"./Close-1.0.6-4b5eac8d.js";import"./useSlot-1.0.6-8db722c4.js";import"./DialogContent-1.0.6-e7b9fcb3.js";import"./AdminTheme-1.0.6-6896de59.js";import"./Tabs-1.0.6-e49ea330.js";import"./Link-1.0.6-610563e0.js";import"./dayjs.min-1.0.6-fcad92ca.js";const ie=({appId:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{const l=J(),d=X(r),p=(x,h)=>{const g=$(s);g.largeTableSupport.saved=x,g.largeTableSupport.actual=h,g.searchSettings.forceEnterOnSearch=h===b.ENABLED,m.debug(g),l(Q({appId:r,tableSettings:g})),d(!0)};return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Large Table Support"}),e.jsxs(T,{children:[e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"column"},children:[e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===B.DISABLED,onChange:x=>{p(B.DISABLED,b.DISABLED),x.stopPropagation()}}),value:"disable",label:"Disable large table support"},"disable"),e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===B.ENABLED,onChange:x=>{p(B.ENABLED,b.ENABLED),x.stopPropagation()}}),value:"enable",label:"Enable large table support"},"enable"),e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===B.AUTO,onChange:x=>{const h=Z(o);p(B.AUTO,h),x.stopPropagation()}}),value:"auto",label:"Let the server decide (default)"},"auto")]}),e.jsxs(t,{component:"div",sx:{marginTop:"20px",marginBottom:"10px","& ul":{margin:0,padding:"0 0 0 20px"}},children:["Large table support:",e.jsxs("ul",{children:[e.jsx("li",{children:"enables row count estimation"}),e.jsx("li",{children:"requires the user to press enter on search"}),e.jsx("li",{children:"sets pagination to compact"}),e.jsx("li",{children:"removes the last page pagination button"}),e.jsx("li",{children:"reduce network traffic and server load"})]})]})]}),e.jsxs("fieldset",{className:"pp-fieldset",style:{display:s.largeTableSupport.actual===b.DISABLED?"none":"block",marginTop:"20px",padding:"20px"},children:[e.jsx("legend",{children:"Additional large table support settings"}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{checked:s.largeTableSupport.skipCount,onChange:(x,h)=>{i("largeTableSupport.skipCount",h),x.stopPropagation()}}),label:"Skip row count on filter updates"}),e.jsx(t,{children:"Skips all SQL count statements. Can boost performance for large tables dramatically. Results in a poorer user feedback."})]})]}),e.jsx(u,{fullWidth:!0,sx:{marginTop:"20px"},children:e.jsx(t,{children:"Reload table or page after changing large table support settings to apply the correct row count"})})]})]})},de=({tableSettings:r,updateTableSettings:s})=>{var o,i;return e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Responsiveness"}),e.jsx(T,{children:e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(a,{control:e.jsx(E,{checked:((o=r==null?void 0:r.design)==null?void 0:o.overflow)===I.RESPONSIVE,onChange:l=>{s("design.overflow",I.RESPONSIVE),l.stopPropagation()}}),value:"responsive",label:"Auto column hiding"},"responsive"),e.jsx(a,{control:e.jsx(E,{checked:((i=r==null?void 0:r.design)==null?void 0:i.overflow)!==I.RESPONSIVE,onChange:l=>{s("design.overflow",I.SCROLL),l.stopPropagation()}}),value:"scroll",label:"Horizontal scrollbar"},"scroll")]}),e.jsx(t,{children:"Behaviour when table content overflows available space"})]})})]})},ce=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Density"}),e.jsxs(T,{children:[e.jsxs(u,{children:[e.jsxs(U,{sx:{display:"grid",gridTemplateColumns:"auto auto auto",alignItems:"center"},children:[e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===O.COMPACT,onChange:o=>{s("design.density.default",O.COMPACT),o.stopPropagation()}}),value:"compact",label:"Compact"},"compact"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===O.COMFORTABLE,onChange:o=>{s("design.density.default",O.COMFORTABLE),o.stopPropagation()}}),value:"comfortable",label:"Comfortable"},"comfortable"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===O.SPACIOUS,onChange:o=>{s("design.density.default",O.SPACIOUS),o.stopPropagation()}}),value:"spacious",label:"Spacious"},"spacious")]}),e.jsx(t,{children:"Default spacing on page load"})]}),e.jsx(u,{sx:{marginTop:"20px"},children:e.jsx(a,{control:e.jsx(f,{checked:r==null?void 0:r.design.density.userCanChange,onChange:(o,i)=>{s("design.density.userCanChange",i),o.stopPropagation()}}),label:"Allow user to change spacing"})})]})]}),ae=({hasPrimaryKey:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{var l,d,p,x,h,g,c,n,j;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Row actions"}),e.jsx(T,{children:e.jsxs(R,{sx:{display:"grid"},children:[((l=o==null?void 0:o.privs)==null?void 0:l.insert)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((d=o==null?void 0:o.privs)!=null&&d.insert)||!r,checked:(p=s==null?void 0:s.transactions)==null?void 0:p.insert,onChange:(C,w)=>{i("transactions.insert",w),C.stopPropagation()}}),label:"Allow insert"}),e.jsx(t,{children:"Adds an insert button to the table toolbar"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:s==null?void 0:s.viewLink,onChange:(C,w)=>{i("viewLink",w),C.stopPropagation()}}),label:"Allow viewing"}),e.jsx(t,{children:"Adds a view icon to each row"})]}),((x=o==null?void 0:o.privs)==null?void 0:x.update)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((h=o==null?void 0:o.privs)!=null&&h.update)||!r,checked:(g=s==null?void 0:s.transactions)==null?void 0:g.update,onChange:(C,w)=>{i("transactions.update",w),C.stopPropagation()}}),label:"Allow update"}),e.jsx(t,{children:"Adds an update icon to each table row"})]}),((c=o==null?void 0:o.privs)==null?void 0:c.delete)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((n=o==null?void 0:o.privs)!=null&&n.delete)||!r,checked:(j=s==null?void 0:s.transactions)==null?void 0:j.delete,onChange:(C,w)=>{i("transactions.delete",w),C.stopPropagation()}}),label:"Allow delete"}),e.jsx(t,{children:"Adds a delete icon to each table row"})]})]})})]})},ue=({appId:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{var l,d,p,x,h,g;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Bulk actions"}),e.jsx(T,{children:e.jsxs(R,{sx:{display:"grid"},children:[e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(c,n)=>{c.stopPropagation()}}),label:"Export to PDF (premium feature)"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:(l=s==null?void 0:s.bulkActions)==null?void 0:l.csv,onChange:(c,n)=>{i("bulkActions.csv",n),c.stopPropagation()}}),label:"Export to CSV"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:(d=s==null?void 0:s.bulkActions)==null?void 0:d.json,onChange:(c,n)=>{i("bulkActions.json",n),c.stopPropagation()}}),label:"Export to JSON"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(c,n)=>{c.stopPropagation()}}),label:"Export to Excel (premium feature)"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:(p=s==null?void 0:s.bulkActions)==null?void 0:p.xml,onChange:(c,n)=>{i("bulkActions.xml",n),c.stopPropagation()}}),label:"Export to XML"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!V(r)&&!H(o)&&((x=s==null?void 0:s.bulkActions)==null?void 0:x.sql),disabled:V(r)||H(o),onChange:(c,n)=>{V(r)||i("bulkActions.sql",n),c.stopPropagation()}}),label:"Export to SQL"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:(h=s==null?void 0:s.bulkActions)==null?void 0:h.delete,disabled:!((g=o==null?void 0:o.privs)!=null&&g.delete),onChange:(c,n)=>{i("bulkActions.delete",n),c.stopPropagation()}}),label:"Delete"})}),e.jsx(u,{children:e.jsx(t,{children:"Added to BULK ACTIONS button"})})]})})]})},pe=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Default where"}),e.jsx(T,{children:e.jsxs(u,{fullWidth:!0,children:[e.jsx(Y,{value:r==null?void 0:r.defaultWhere,multiline:!0,fullWidth:!0,minRows:5,variant:"outlined",onClick:o=>{o.stopPropagation()},onChange:o=>{s("defaultWhere",o.target.value)}}),e.jsx(re,{})]})})]}),z=({tableColumns:r,orderByColumn:s,addActions:o,enableAddAction:i,onUpdate:l,onActions:d})=>{m.debug(r,s,o,i);const[p,x]=F.useState(null),h=!!p,g=n=>{x(n.currentTarget),n.stopPropagation()},c=()=>{x(null)};return e.jsxs(R,{sx:{display:"grid",gridTemplateColumns:o?"auto 100px 50px":"auto 100px",gridGap:"5px",marginBottom:"5px"},children:[e.jsxs(q,{value:s.columnName,onChange:n=>{l({...s,columnName:n.target.value})},children:[e.jsx(L,{value:"",children:"Â "}),...r.map(n=>n.computedField!==void 0?null:e.jsx(L,{value:n.columnName,children:n.columnName}))]}),e.jsxs(q,{value:s.order,onChange:n=>{l({...s,order:n.target.value==="desc"?"desc":"asc"})},children:[e.jsx(L,{value:"asc",children:"Asc"}),e.jsx(L,{value:"desc",children:"Desc"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(le,{color:"primary",onClick:g,children:e.jsx(D,{})}),e.jsxs(S,{anchorEl:p,open:h,onClose:c,sx:{zIndex:9999999999},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[i&&e.jsxs(L,{onClick:()=>{d("add"),c()},children:[e.jsx(oe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Add column"})]}),e.jsxs(L,{onClick:()=>{d("delete"),c()},children:[e.jsx(ne,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Delete column"})]})]})]})]})},xe=({tableSettings:r,tableColumns:s,updateTableSettings:o})=>{const[i,l]=F.useState(r.defaultOrderBy.length===0);return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Default order by"}),e.jsxs(T,{children:[Array.isArray(r.defaultOrderBy)&&e.jsxs(e.Fragment,{children:[...r.defaultOrderBy.map((d,p)=>e.jsx(z,{tableColumns:s,orderByColumn:r.defaultOrderBy[p],addActions:!0,enableAddAction:r.defaultOrderBy.length===p+1&&!i,onUpdate:x=>{const h=[...r.defaultOrderBy];h[p]=x,o("defaultOrderBy",h)},onActions:x=>{if(x==="add")l(!0);else if(x==="delete"){const h=[...r.defaultOrderBy];h.splice(p,1),o("defaultOrderBy",h),l(h.length===0)}}},p))]}),i&&e.jsx(z,{tableColumns:s,orderByColumn:{columnName:"",order:"asc"},addActions:r.defaultOrderBy.length>0,enableAddAction:!1,onUpdate:d=>{const p=[...r.defaultOrderBy];p.push({columnName:d.columnName,order:d.order}),o("defaultOrderBy",p),l(!1)},onActions:d=>{d==="delete"&&l(!1)}}),e.jsx(u,{fullWidth:!0,children:e.jsx(t,{children:"Defines the default ordering. The user can change the default ordering if sorting is enabled for one or more columns."})})]})]})},he=({tableSettings:r,updateTableSettings:s})=>{var o,i,l,d,p,x,h,g,c;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Global Search"}),e.jsxs(T,{children:[e.jsxs(R,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(o=r==null?void 0:r.searchSettings)==null?void 0:o.enableGlobalSearch,disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Enable global search"}),e.jsx(t,{children:"Adds a global search box to the data table"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(i=r==null?void 0:r.searchSettings)==null?void 0:i.forceSearch,disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Show empty table on startup"}),e.jsx(t,{children:"Forces user to perform a search"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(l=r==null?void 0:r.searchSettings)==null?void 0:l.highlightMatches,disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Highlight matches"}),e.jsx(t,{children:"Filter match highlighting"})]})]}),e.jsx(W,{single:!1})]})]}),e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Column Filters"}),e.jsxs(T,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(d=r==null?void 0:r.searchSettings)==null?void 0:d.searchForm,disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Enable column filters"}),e.jsx(t,{children:"Disable to hide all column filters"})]}),((p=r==null?void 0:r.searchSettings)==null?void 0:p.searchForm)===!0&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:((x=r==null?void 0:r.searchSettings)==null?void 0:x.searchFormAlwaysOpen)||((h=r==null?void 0:r.searchSettings)==null?void 0:h.forceInline),disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Show column filters on startup"}),e.jsx(t,{children:"Effective after next page load"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(g=r==null?void 0:r.searchSettings)==null?void 0:g.searchFormAlwaysOpen,disabled:!0,onChange:(n,j)=>{m.debug(j),n.stopPropagation()}}),label:"Always show column filters"}),e.jsx(t,{children:"Disable to remove the column filter icon"})]}),e.jsx(R,{sx:{marginTop:"20px"},children:e.jsxs(u,{fullWidth:!0,children:[e.jsxs(se,{fullWidth:!0,color:"primary",exclusive:!0,value:(c=r==null?void 0:r.searchSettings)==null?void 0:c.searchFormPosition,onChange:(n,j)=>{n.stopPropagation()},children:[e.jsx(N,{value:y.TOP,children:"Above"},y.TOP),e.jsx(N,{value:y.RIGHT,children:"Right"},y.RIGHT),e.jsx(N,{value:y.BOTTOM,children:"Below"},y.BOTTOM),e.jsx(N,{value:y.LEFT,children:"Left"},y.LEFT)]}),e.jsx(t,{children:"Position of the column filters relative to the data table"})]})})]})]})]})]})},je=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Pagination"}),e.jsxs(T,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showFirstButton,onChange:(o,i)=>{m.debug(o,i)}}),label:"Show first button"})}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showLastButton&&(r.largeTableSupport.actual===b.DISABLED||r.largeTableSupport.skipCount===!1),onChange:(o,i)=>{m.debug(o,i)}}),label:"Show last button"}),e.jsx(t,{children:"By default disabled with large table support and row count skipping"})]}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showCompactButtons||r.largeTableSupport.actual===b.ENABLED,onChange:(o,i)=>{m.debug(o,i)}}),label:"Show compact pagination buttons"}),e.jsx(t,{children:"By default enabled when large table support is enabled"})]}),e.jsx(W,{single:!1})]})]}),te=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{sx:{display:"none"},disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Processing"}),e.jsx(T,{children:e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.processing)===M.SERVERSIDE,onChange:o=>{s("processing",M.SERVERSIDE),o.stopPropagation()}}),value:"serverside",label:"Server-side"},"serverside"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.processing)===M.CLIENTSIDE,onChange:o=>{s("processing",M.CLIENTSIDE),o.stopPropagation()}}),value:"clientside",label:"Client-side"},"clientside")]}),e.jsx(t,{children:"Use server-side for large tables and views, use client-side for quick analyses of small tables and views"})]})})]}),fe=({tableSettings:r,updateTableSettings:s})=>{const o=F.useMemo(()=>[{language:"English US",code:"en-US",dayjs:"en"}],[]),i=F.useMemo(()=>r!=null&&r.locale?o.filter(l=>l.code===(r==null?void 0:r.locale))[0]:null,[o,r==null?void 0:r.locale]);return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Language"}),e.jsxs(T,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(ee,{multiple:!1,fullWidth:!0,disablePortal:!0,options:o,disabled:!0,getOptionLabel:l=>l.language,value:i,onChange:(l,d)=>{s("locale",(d==null?void 0:d.code)??"")},renderInput:l=>e.jsx(Y,{...l})})}),e.jsx(W,{})]})]})},me=({tableSettings:r,metaData:s,updateTableSettings:o})=>{var i;return!((i=s==null?void 0:s.privs)!=null&&i.update)||s.primary_key.length===0?null:e.jsxs(k,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(v,{}),children:"Inline Field Settings"}),e.jsxs(T,{sx:{display:"grid"},children:[e.jsxs(u,{children:[e.jsxs(U,{value:r.inlineEditing.fieldVariant,sx:{flexDirection:"row"},onChange:l=>{l.stopPropagation()},children:[e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"outlined",label:"Outlined"},"outlined"),e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"filled",label:"Filled"},"filled"),e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"standard",label:"Standard"},"standard")]}),e.jsx(t,{children:"Applies to inline fields only"})]}),e.jsxs(u,{children:[e.jsxs(R,{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"40px",marginBottom:"10px"},children:[e.jsx(G,{label:"Padding top",textField:{cssValue:r.inlineEditing.spacing.fieldTop,cssUnit:r.inlineEditing.spacing.fieldTopUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldTop,cssUnit:P.table.inlineEditing.spacing.fieldTopUnit},updateSettings:l=>{m.debug(l)}}),e.jsx(G,{label:"Padding bottom",textField:{cssValue:r.inlineEditing.spacing.fieldBottom,cssUnit:r.inlineEditing.spacing.fieldBottomUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldBottom,cssUnit:P.table.inlineEditing.spacing.fieldBottomUnit},updateSettings:l=>{m.debug(l)}}),e.jsx(G,{label:"Padding left",textField:{cssValue:r.inlineEditing.spacing.fieldLeft,cssUnit:r.inlineEditing.spacing.fieldLeftUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldLeft,cssUnit:P.table.inlineEditing.spacing.fieldLeftUnit},updateSettings:l=>{m.debug(l)}}),e.jsx(G,{label:"Padding right",textField:{cssValue:r.inlineEditing.spacing.fieldRight,cssUnit:r.inlineEditing.spacing.fieldRightUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldRight,cssUnit:P.table.inlineEditing.spacing.fieldRightUnit},updateSettings:l=>{m.debug(l)}})]}),e.jsx(t,{children:"Space added to inline fields"})]}),e.jsx(W,{single:!1})]})]})},qe=({appId:r,metaData:s})=>{m.debug(r);const o=J(),i=X(r),l=K(r),d=l==null?void 0:l.table,p=l==null?void 0:l.columns,x=F.useMemo(()=>p.filter(n=>n.computedField!==void 0),[p]);m.debug("storeColumnSettings",x);const h=F.useMemo(()=>{const n=p.map(j=>j.columnName);return m.debug(n),s.primary_key.length>0&&s.primary_key.filter(j=>n.includes(j)).length===s.primary_key.length},[p,s.primary_key]);m.debug("hasPrimaryKey",h);const g=(n,j,C)=>{const[w,..._]=j.split(".");return{...n,[w]:_.length?g(n[w],_.join("."),C):C}},c=(n,j)=>{m.debug(n,j);const C=g(d,n,j);m.debug(C),o(Q({appId:r,tableSettings:C})),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{appId:r,tableSettings:d,metaData:s,updateTableSettings:c}),e.jsx(je,{tableSettings:d,updateTableSettings:c}),e.jsx(he,{tableSettings:d,updateTableSettings:c}),e.jsx(te,{tableSettings:d,updateTableSettings:c}),e.jsx(ae,{hasPrimaryKey:h,tableSettings:d,metaData:s,updateTableSettings:c}),e.jsx(ue,{appId:r,tableSettings:d,metaData:s,updateTableSettings:c}),V(r)&&e.jsxs(e.Fragment,{children:[e.jsx(pe,{tableSettings:d,updateTableSettings:c}),e.jsx(xe,{tableSettings:d,tableColumns:p,updateTableSettings:c})]}),e.jsx(fe,{tableSettings:d,updateTableSettings:c}),e.jsx(de,{tableSettings:d,updateTableSettings:c}),e.jsx(ce,{tableSettings:d,updateTableSettings:c}),e.jsx(me,{tableSettings:d,updateTableSettings:c,metaData:s})]})};export{qe as default};
